{"ast":null,"code":"var _jsxFileName = \"/home/cuelogic.local/mahesh.auti/Documents/shastradaan/src/components/School.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport { useNavigate } from \"react-router-dom\";\nimport Menu from \"./Menu\";\nimport PlaceSearchBox from \"./PlaceSearchBox\";\nimport { getSchoolInfo } from \"./service\"; // ChIJh_qPCJK_wjsRyGC2kJtmSdE\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst google = window.google;\nconst pyrmont = new google.maps.LatLng(7.798, 68.14712);\n\nconst School = _ref => {\n  _s();\n\n  let {\n    httpClient,\n    setPlaceAddress,\n    setPlaceImage,\n    setPlaceName,\n    placeImage,\n    placeName,\n    placeAddress,\n    setSchoolInfo\n  } = _ref;\n  const {\n    placeid\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    get,\n    post,\n    response,\n    loading,\n    error\n  } = httpClient;\n  useEffect(() => {\n    fetchSchoolDetails(placeid);\n  }, [placeid]);\n\n  function fetchSchoolDetails(placeid) {\n    const request = {\n      placeId: placeid\n    };\n    const map = new google.maps.Map(document.getElementById(\"map\"), {\n      center: pyrmont,\n      zoom: 15\n    });\n    const service = new google.maps.places.PlacesService(map);\n    service.getDetails(request, (place, status) => {\n      if (status === google.maps.places.PlacesServiceStatus.OK) {\n        if (place.photos) setPlaceImage(place.photos[0].getUrl());\n        setPlaceAddress(place.formatted_address);\n        setPlaceName(place.name);\n      }\n    });\n  }\n\n  const handleGoToFundraiserPage = async () => {\n    if (placeAddress && placeName && placeid) {\n      const schoolInfo = await getSchoolInfo({\n        post,\n        response\n      }, placeid, placeName, placeAddress);\n      setSchoolInfo(schoolInfo);\n      navigate(\"/fundraiser\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"map\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"home-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"heading\",\n        children: \"Donate for your school\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PlaceSearchBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), placeImage && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: placeImage,\n        className: \"school-image\",\n        alt: \"school\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"1.5rem\",\n          margin: \"1rem\"\n        },\n        children: placeName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"gray\",\n          fontSize: \"1.1rem\"\n        },\n        children: placeAddress\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: !(placeAddress && placeName && placeid),\n        onClick: handleGoToFundraiserPage,\n        children: [\" \", \"Contribute now\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n\n_s(School, \"biRIQDA8DDVwVpJbpZsxauF1IBk=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = School;\nexport default School;\n\nvar _c;\n\n$RefreshReg$(_c, \"School\");","map":{"version":3,"sources":["/home/cuelogic.local/mahesh.auti/Documents/shastradaan/src/components/School.js"],"names":["React","useEffect","useState","useParams","useNavigate","Menu","PlaceSearchBox","getSchoolInfo","google","window","pyrmont","maps","LatLng","School","httpClient","setPlaceAddress","setPlaceImage","setPlaceName","placeImage","placeName","placeAddress","setSchoolInfo","placeid","navigate","get","post","response","loading","error","fetchSchoolDetails","request","placeId","map","Map","document","getElementById","center","zoom","service","places","PlacesService","getDetails","place","status","PlacesServiceStatus","OK","photos","getUrl","formatted_address","name","handleGoToFundraiserPage","schoolInfo","fontSize","margin","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { useParams } from 'react-router-dom'\nimport { useNavigate } from \"react-router-dom\";\n\nimport Menu from \"./Menu\";\nimport PlaceSearchBox from \"./PlaceSearchBox\";\nimport { getSchoolInfo } from \"./service\";\n\n// ChIJh_qPCJK_wjsRyGC2kJtmSdE\nconst google = window.google;\nconst pyrmont = new google.maps.LatLng(7.798, 68.14712);\n\nconst School = ({\n  httpClient,\n  setPlaceAddress,\n  setPlaceImage,\n  setPlaceName,\n  placeImage,\n  placeName,\n  placeAddress,\n  setSchoolInfo,\n}) => {\n  const { placeid } = useParams();\n  const navigate = useNavigate();\n  const { get, post, response, loading, error } = httpClient;\n\n  useEffect(() => {\n    fetchSchoolDetails(placeid);\n  }, [placeid]);\n\n\n  function fetchSchoolDetails(placeid) {\n    const request = {\n      placeId: placeid,\n    };\n\n    const map = new google.maps.Map(document.getElementById(\"map\"), {\n      center: pyrmont,\n      zoom: 15,\n    });\n    const service = new google.maps.places.PlacesService(map);\n\n    service.getDetails(request, (place, status) => {\n      if (status === google.maps.places.PlacesServiceStatus.OK) {\n        if (place.photos) setPlaceImage(place.photos[0].getUrl());\n        setPlaceAddress(place.formatted_address);\n        setPlaceName(place.name);\n      }\n    });\n  }\n\n  const handleGoToFundraiserPage = async () => {\n    if (placeAddress && placeName && placeid) {\n        const schoolInfo = await getSchoolInfo(\n          { post, response },\n          placeid,\n          placeName,\n          placeAddress\n        );\n        setSchoolInfo(schoolInfo)\n        navigate(\"/fundraiser\");\n    }\n  }\n\n  return (\n    <div>\n      <div id=\"map\"></div>\n      <Menu />\n      <main className=\"home-main\">\n        <div className=\"heading\">Donate for your school</div>\n        <PlaceSearchBox />\n\n        {placeImage && (\n          <img src={placeImage} className=\"school-image\" alt=\"school\"></img>\n        )}\n\n        <div style={{ fontSize: \"1.5rem\", margin: \"1rem\" }}>{placeName}</div>\n        <div style={{ color: \"gray\", fontSize: \"1.1rem\" }}>{placeAddress}</div>\n        <button\n          disabled={!(placeAddress && placeName && placeid)}\n          onClick={handleGoToFundraiserPage}\n        >\n          {\" \"}\n          Contribute now{\" \"}\n        </button>\n      </main>\n    </div>\n  );\n};\n\nexport default School;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/cuelogic.local/mahesh.auti/Documents/shastradaan/src/components/RazorpayPayment.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './RazorpayPayment.css';\nimport { useState } from \"react\";\nimport { createRazorpayOrder } from './service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RazorpayPayment = _ref => {\n  _s();\n\n  let {\n    name,\n    email,\n    amount,\n    placeId,\n    httpClient\n  } = _ref;\n  const [desc, setDesc] = useState(\"Donation to ISKCON\");\n  const [success, setSucess] = useState(false);\n  const [failure, setFailure] = useState(false);\n  const {\n    get,\n    post,\n    response,\n    loading,\n    error\n  } = httpClient;\n\n  async function displayRazorPay(e) {\n    try {\n      e.preventDefault();\n      setSucess(false);\n      setFailure(false);\n      const data = await createRazorpayOrder({\n        post,\n        response\n      }, parseInt(amount), placeId);\n      console.log(data);\n      var options = {\n        \"key\": \"rzp_test_jdghHgbuygNKe9\",\n        currency: data.currency,\n        amount: parseInt(data.amount),\n        order_id: data.id,\n        \"name\": name,\n        \"email\": email,\n        \"image\": \"https://i.ibb.co/tKRjzCz/logoketto.png\",\n        \"handler\": function (response) {\n          console.log(\"payment successful\");\n          setSucess(true);\n          setFailure(false);\n        },\n        \"prefill\": {\n          \"name\": name,\n          \"email\": email\n        },\n        \"notes\": {\n          \"address\": \"Razorpay Corporate Office\",\n          \"name\": name,\n          \"email\": email\n        },\n        \"theme\": {\n          \"color\": \"#10B981\"\n        }\n      };\n      console.log('options-->', options);\n      var rzp1 = new window.Razorpay(options);\n      rzp1.on('payment.failed', function (response) {\n        console.log(\"payment failure\");\n        setSucess(false);\n        setFailure(true);\n      });\n      rzp1.on('payment.paid', function (response) {\n        console.log(\"payment sucessful\");\n      });\n      rzp1.open();\n    } catch (err) {\n      console.log('error : ', err);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"App-link\",\n        onClick: displayRazorPay,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"Donate now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: success ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success\",\n        children: \"Payment successful!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 31\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 84\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: failure ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"failure\",\n        children: \"Payment failed :(\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 31\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 82\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"...loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 31\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 75\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n\n_s(RazorpayPayment, \"R7va/51qI/V4cQbBpxvz6vtUog0=\");\n\n_c = RazorpayPayment;\nexport default RazorpayPayment;\n\nvar _c;\n\n$RefreshReg$(_c, \"RazorpayPayment\");","map":{"version":3,"sources":["/home/cuelogic.local/mahesh.auti/Documents/shastradaan/src/components/RazorpayPayment.js"],"names":["React","useState","createRazorpayOrder","RazorpayPayment","name","email","amount","placeId","httpClient","desc","setDesc","success","setSucess","failure","setFailure","get","post","response","loading","error","displayRazorPay","e","preventDefault","data","parseInt","console","log","options","currency","order_id","id","rzp1","window","Razorpay","on","open","err"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './RazorpayPayment.css';\nimport { useState } from \"react\";\nimport { createRazorpayOrder } from './service';\n\n\n\n\nconst RazorpayPayment = ({ name, email, amount, placeId, httpClient }) => {\n\n    const [desc, setDesc] = useState(\"Donation to ISKCON\");\n    const [success, setSucess] = useState(false);\n    const [failure, setFailure] = useState(false);\n    const { get, post, response, loading, error } = httpClient;\n\n\n    async function displayRazorPay(e) {\n        try {\n            e.preventDefault();\n\n            setSucess(false);\n            setFailure(false);\n            const data = await createRazorpayOrder({ post, response }, parseInt(amount), placeId)\n    \n            console.log(data)\n    \n            var options = {\n                \"key\": \"rzp_test_jdghHgbuygNKe9\",\n                currency: data.currency,\n                amount: parseInt(data.amount),\n                order_id: data.id,\n                \"name\": name,\n                \"email\": email,\n                \"image\": \"https://i.ibb.co/tKRjzCz/logoketto.png\",\n                \"handler\": function (response) {\n                    console.log(\"payment successful\");\n                    setSucess(true);\n                    setFailure(false);\n                },\n                \"prefill\": {\n                    \"name\": name,\n                    \"email\": email,\n                },\n                \"notes\": {\n                    \"address\": \"Razorpay Corporate Office\",\n                    \"name\": name,\n                    \"email\": email,\n                },\n                \"theme\": {\n                    \"color\": \"#10B981\"\n                }\n    \n            };\n            console.log('options-->', options)\n    \n            var rzp1 = new window.Razorpay(options);\n            rzp1.on('payment.failed', function (response) {\n                console.log(\"payment failure\");\n                setSucess(false);\n                setFailure(true);\n            });\n            rzp1.on('payment.paid', function (response) {\n                console.log(\"payment sucessful\");\n            });\n            rzp1.open();\n        } catch (err) {\n            console.log('error : ', err)\n        }\n    }\n\n\n    return (\n        <div className=\"App\">\n            <div className=\"form\">\n                <button\n                    className=\"App-link\"\n                    onClick={displayRazorPay}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                >\n                    Donate now\n                </button>\n            </div>\n            <div>\n                {\n                    success ? <div className=\"success\">Payment successful!</div> : <div></div>\n                }\n            </div>\n\n\n            <div >\n\n                {\n                    failure ? <div className=\"failure\">Payment failed :(</div> : <div></div>\n                }\n            </div>\n\n            <div>\n\n                {\n                    loading ? <div className=\"loading\">...loading</div> : <div></div>\n                }\n            </div>\n\n\n\n\n        </div>\n    );\n};\n\nexport default RazorpayPayment;\n"]},"metadata":{},"sourceType":"module"}